
  
  <!-- employeefrom start -->
  <form [formGroup]="employeeForm" (ngSubmit)="onsubmit()" class="custom-form">
    <div class="box box-primary">


          <div class="row">
              <!-- for company list --> 
              <div class="form-group col-lg-4" *ngIf="role=='SYSTEM_ADMIN'">
                <label class="control-label">Company</label><span style="color: red">*</span>
                <p-dropdown formControlName="company" #com (onFocus)="onChangeCompany=true"   (onChange)="onSelectedCompany($event.value)"  [options]="filterCompany" [filter]="true" optionLabel="name" placeholder="Select a company" [style]="{'width':'100%'}"></p-dropdown>
                <!-- fro validation -->
               <app-field-error-display [errorIcon]="false" [displayError]="isFieldValid('company')" errorMsg="Company is required"></app-field-error-display>
              </div>


              <!-- for branch list -->
              <div class="form-group col-lg-4">
                <label class="control-label">Branch</label><span style="color: red">*</span>               
                <p-dropdown formControlName="branch" #branchAdd   (onFocus)="onChangeBranch=true" (onChange)="onSelectBranch($event.value)"[options]="filterBranchs"  [filter]="true" optionLabel="name"   placeholder="Select a branch"  [style]="{'width':'100%'}"></p-dropdown>
                 <!-- fro validation -->
                 <app-field-error-display [errorIcon]="false" [displayError]="isFieldValid('branch')" errorMsg="Branch is required"></app-field-error-display>
              </div>

              <!-- for department list -->
              <div class="form-group col-lg-4">
                <label class="control-label">Department</label><span style="color: red">*</span>               
                <p-dropdown formControlName="department" [options]="filterdepartments"  [filter]="true" optionLabel="name"  [disabled]="!branchAdd.value" placeholder="Select a department" [style]="{'width':'100%'}"></p-dropdown>
                 <!-- fro validation -->
                 <app-field-error-display [errorIcon]="false" [displayError]="isFieldValid('department')" errorMsg="Department is required"></app-field-error-display>
              </div>
          </div>


          <div class="row">
              <!-- for first name -->
              <div class="form-group col-lg-6">
                <label class="control-label">First name</label><span style="color: red">*</span>
                <input type="text" class="form-control" id="firstname" formControlName="firstname" placeholder="enter first name" />
                 <!-- fro validation -->
                 <app-field-error-display [errorIcon]="false" [displayError]="isFieldValid('firstname')" errorMsg="{{f.firstname.errors?.required?'First name is required': f.firstname.errors?.minlength?'first name should be grater than 3 charactros':''}}"></app-field-error-display>
              </div>

              <!-- for last name -->
              <div class="form-group col-lg-6">
                <label class="control-label">Last name</label><span style="color: red">*</span>
                <input type="text" class="form-control" id="lastname" formControlName="lastname" placeholder="enter last name" />
                <!-- fro validation -->              
                 <app-field-error-display [errorIcon]="false" [displayError]="isFieldValid('lastname')" errorMsg="Last Name is required"></app-field-error-display>
              </div>
          </div>


          <div class="row">
              <!-- for email -->
              <div class="form-group col-lg-6">
                <label class="control-label">Email</label><span style="color: red">*</span>
                <input type="text" class="form-control" formControlName="email" placeholder="enter email" />
                <!-- fro validation -->               
                 <app-field-error-display [errorIcon]="false" [displayError]="isFieldValid('email')" errorMsg="Email is required"></app-field-error-display>
              </div>

              <!-- for pgone -->
              <div class="form-group col-lg-6">
                <label class="control-label">Phone</label><span style="color: red">*</span>
                  <!-- fro validation -->
                  <international-phone-number formControlName="phone" placeholder="Enter phone number" [maxlength]="20" [defaultCountry]="'lk'" [required]="true" name="phone_number" #phoneNumber></international-phone-number>
                  <div *ngIf="f.phone.touched && f.phone.errors" class="invalid-feedback">                        
                    <div *ngIf="f.phone.errors.required">phone number is required</div>
                    <div *ngIf="!phoneNumber.valid  && phoneNumber.value">phone number is in correct</div>
                 </div> 
                </div>

          </div>


                    <div class="box-footer">

          
                            <div class="text-center">
                                <button type="submit" class="btn-lg btn-custom btn-success" >Submit</button>
                                <button type="button" (click)="onReset()" class="btn-lg  btn-custom btn-dark-red" >Reset</button>
                            </div>
                        </div>

    </div>




  </form>




