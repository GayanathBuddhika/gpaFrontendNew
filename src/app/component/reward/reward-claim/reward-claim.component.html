<div class="row">
  <div class="col-lg-12">
    <div class="content-wrapper">
      <section class="content-header">
        <section class="content">
          <div class="box box-primary">

                <div class="box-header with-border">
                        <div class="text-left componet-heading">Claim Rewards</div>
                    </div>
                    <br>

            <form [formGroup]="rewardClaimForm" >

                    <div class="row pull-left col-lg-6" style="margin-top:12px">
                            <div class="col-md-8 pull-left">
                                    <international-phone-number lkRemoveLeadingZero formControlName="phone"  placeholder="YOUR PHONE" [maxlength]="20" [defaultCountry]="'lk'" [required]="true" name="phone_number" #phoneNumber></international-phone-number>
                                    <div *ngIf="f.phone.touched && f.phone.errors" class="invalid-feedback">                        
                                        <div *ngIf="f.phone.errors.required">phone number is required</div>
                                        <div *ngIf="!phoneNumber.valid && phoneNumber.value">phone number is in correct</div>
                                    </div>
                              </div>
                            

                            <div class=" pull-right">
                                    <button type="button" (click)="getExistReward()" class="btn btn-custom btn-dark-blue">+ Check</button>
                            </div>
                        </div>


<br>

<!-- 
                <div class="row form-group">
                    <div class="col-sm-5">
                        <div class="input-group" [ngClass]="displayFieldCss('phone')">
                            <international-phone-number lkRemoveLeadingZero formControlName="phone"  placeholder="YOUR PHONE" [maxlength]="20" [defaultCountry]="'lk'" [required]="true" name="phone_number" #phoneNumber></international-phone-number>
                                <div *ngIf="f.phone.touched && f.phone.errors" class="invalid-feedback">                        
                                    <div *ngIf="f.phone.errors.required">phone number is required</div>
                                    <div *ngIf="!phoneNumber.valid && phoneNumber.value">phone number is in correct</div>
                                </div>
                          </div>
                    </div>
                    <div class="col-sm-5">
                        <button type="button" (click)="getExistReward()" class="btn btn-custom btn-dark-blue">Check</button>
                    </div>
                </div>  -->
            </form>
             
            <div style="text-align: right" class="clearfix custom-form">
        
                    <input class="form-control pull-right" type="text" pInputText size="50" placeholder="Search"
                        (input)="dt2.filterGlobal($event.target.value, 'contains')" style="width:auto">
                </div>
                    <br>
          
              <p-table #dt2 
              [columns]="headers"
              [value]="rewardList" 
              [paginator]="true" 
              [rows]="10" 
              [responsive]="true" 
              [resizableColumns]="true" 
              [columnResizeMode]="'expand'" 
              [autoLayout]="true"
              [rowsPerPageOptions]="[10,25,50,100]"
              >
              <ng-template  pTemplate="header" let-headers>
                <tr>
                  <th *ngFor="let th of headers" style="text-transform: uppercase; background-color:#5893d4; color: white;">{{th.field}}</th>
                </tr>
                <!-- <tr>
                  <th *ngFor="let col of headers"  [ngSwitch]="col.field">

                  <input *ngSwitchCase="'title'" pInputText type="text" style="width: 100px;" (input)="dt2.filter($event.target.value, col.field, col.filterMatchMode='contains')">
                  <input *ngSwitchCase="'startDate'" pInputText type="text" style="width: 100px;" (input)="dt2.filter($event.target.value, col.field, col.filterMatchMode='contains')">
                  <input *ngSwitchCase="'endDate'" pInputText type="text" style="width: 100px;" (input)="dt2.filter($event.target.value, col.field, col.filterMatchMode='contains')">
                  <input *ngSwitchCase="'remainClaims'" pInputText type="text" style="width: 100px;" (input)="dt2.filter($event.target.value, col.field, col.filterMatchMode='contains')">
                  <input *ngSwitchCase="'message'" pInputText type="text" style="width: 100px;" (input)="dt2.filter($event.target.value, col.field, col.filterMatchMode='contains')">
                 </th>
                </tr> -->
              </ng-template>
          
              <ng-template pTemplate="body" let-reward let-rowIndex="rowIndex">
                  <tr>
                    <td>{{ rowIndex+1}}</td>
                    <td>{{reward.rewardTitile}}</td>
                    <td>{{reward.claimStartDate}}</td>
                    <td>{{reward.claimEndDate}}</td>
                    <td *ngIf="reward.noOfClaims != 0">{{reward.remainClaims}}</td>
                    <td  *ngIf="reward.noOfClaims == 0">Unlimited</td>
                    <td>{{reward.message}}</td>
                    <td><button type="button" class="cus btn btn-primary" (click)=claim(reward)>Claim</button></td>
                  </tr>
              </ng-template>
              <ng-template pTemplate="emptymessage" let-headers>
                    <tr>
                        <td [attr.colspan]="headers.length">
                            <p class="text-center"><b>No records found</b></p>
                        </td>
                    </tr>
                </ng-template>
              </p-table>
            

          </div>
        </section>
      </section>
    </div>
  </div>
</div>
